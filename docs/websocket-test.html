<!DOCTYPE HTML>
<html>
<head>
    <title>Flask-SocketIO Test</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js"></script>
    <script type="text/javascript" charset="utf-8">
        $(document).ready(function() {
            window.ws = new WebSocket("ws://localhost:5000/ws");

            window.ws.onopen = function() {
                ws.send("Hello, world");
            };
            window.ws.onmessage = function (event) {
                $('#log').append('<br>' + $('<div/>').text('Received: ' + event.data).html());
            };
        });

        function doSomething() {
            window.ws.send("do something");
        };
  </script>
</head>
<body>
    <button onclick="doSomething()">WS test</button>
    <div id="log"></div>
</body>
</html>
